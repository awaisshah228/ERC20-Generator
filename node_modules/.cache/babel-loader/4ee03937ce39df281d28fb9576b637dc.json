{"ast":null,"code":"import _regeneratorRuntime from \"/Users/pulkit29/Desktop/erc20-asset/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/pulkit29/Desktop/erc20-asset/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/pulkit29/Desktop/erc20-asset/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/pulkit29/Desktop/erc20-asset/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/pulkit29/Desktop/erc20-asset/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/pulkit29/Desktop/erc20-asset/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/pulkit29/Desktop/erc20-asset/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/pulkit29/Desktop/erc20-asset/src/App.js\";\nimport React, { Component } from 'react';\nimport Header from \"./components/Header.js\";\nimport './App.css';\nimport Web3 from 'web3';\nimport Form from \"./components/Form.js\";\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this));\n    _this.componentDidMount =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var web3, accounts;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              //from 2NOv 2018 onwards this convention will be followed\n              web3 = new Web3(window.ethereum);\n              _context.prev = 1;\n              _context.next = 4;\n              return window.ethereum.enable();\n\n            case 4:\n              _context.next = 6;\n              return web3.eth.getAccounts();\n\n            case 6:\n              accounts = _context.sent;\n\n              if (accounts.length) {\n                console.log(accounts);\n\n                _this.setState({\n                  account: accounts[0]\n                });\n              } else {\n                alert(\"You've locked your MetaMask\");\n              } // web3.currentProvider.publicConfigStore.on('update', res => {\n              //   Web3Store.set(() => ({\n              //     isAvailable: true,\n              //     account: res.selectedAddress,\n              //     network: res.networkVersion,\n              //   }))\n              // })\n\n\n              _context.next = 13;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](1);\n              console.log(_context.t0); // User denied account access...\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this, [[1, 10]]);\n    }));\n    _this.state = {\n      account: null\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(Header, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"metamask\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-circle\",\n        style: {\n          \"color\": \"red\",\n          \"margin\": \"4px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }), \"Metamask Locked\"), React.createElement(Form, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/pulkit29/Desktop/erc20-asset/src/App.js"],"names":["React","Component","Header","Web3","Form","App","componentDidMount","web3","window","ethereum","enable","eth","getAccounts","accounts","length","console","log","setState","account","alert","state"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAO,WAAP;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,IAAP,MAAiB,sBAAjB;;IACMC,G;;;;;AACJ,iBAAc;AAAA;;AAAA;;AACZ;AADY,UAMdC,iBANc;AAAA;AAAA;AAAA;AAAA,6BAMK;AAAA;AAAA;AAAA;AAAA;AAAA;AACjB;AACMC,cAAAA,IAFW,GAEJ,IAAIJ,IAAJ,CAASK,MAAM,CAACC,QAAhB,CAFI;AAAA;AAAA;AAAA,qBAKTD,MAAM,CAACC,QAAP,CAAgBC,MAAhB,EALS;;AAAA;AAAA;AAAA,qBAOQH,IAAI,CAACI,GAAL,CAASC,WAAT,EAPR;;AAAA;AAOTC,cAAAA,QAPS;;AASf,kBAAIA,QAAQ,CAACC,MAAb,EAAqB;AACnBC,gBAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;;AACA,sBAAKI,QAAL,CAAc;AAACC,kBAAAA,OAAO,EAACL,QAAQ,CAAC,CAAD;AAAjB,iBAAd;AACD,eAHD,MAGO;AACLM,gBAAAA,KAAK,CAAC,6BAAD,CAAL;AACD,eAdc,CAgBf;AACA;AACA;AACA;AACA;AACA;AACA;;;AAtBe;AAAA;;AAAA;AAAA;AAAA;AAwBfJ,cAAAA,OAAO,CAACC,GAAR,cAxBe,CAyBf;;AAzBe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KANL;AAEZ,UAAKI,KAAL,GAAW;AACTF,MAAAA,OAAO,EAAC;AADC,KAAX;AAFY;AAKb;;;;6BA6BQ;AACP,aACE;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG;AAAG,QAAA,SAAS,EAAC,cAAb;AAA4B,QAAA,KAAK,EAAE;AAAC,mBAAQ,KAAT;AAAe,oBAAS;AAAxB,SAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADH,oBAFF,EAME,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANF,CADF;AAUD;;;;EA9CejB,S;;AAiDlB,eAAeI,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport Header from \"./components/Header.js\";\nimport './App.css';\nimport Web3 from 'web3';\nimport Form from \"./components/Form.js\"\nclass App extends Component {\n  constructor() {\n    super();\n    this.state={\n      account:null\n    }\n  }\n  componentDidMount= async () => {\n    //from 2NOv 2018 onwards this convention will be followed\n    const web3 = new Web3(window.ethereum)\n    try {\n      // Request account access if needed\n      await window.ethereum.enable()\n      // Acccounts now exposed\n      const accounts = await web3.eth.getAccounts()\n\n      if (accounts.length) {\n        console.log(accounts);\n        this.setState({account:accounts[0]});\n      } else {\n        alert(\"You've locked your MetaMask\")\n      }\n\n      // web3.currentProvider.publicConfigStore.on('update', res => {\n      //   Web3Store.set(() => ({\n      //     isAvailable: true,\n      //     account: res.selectedAddress,\n      //     network: res.networkVersion,\n      //   }))\n      // })\n    } catch (error) {\n      console.log(error)\n      // User denied account access...\n    }\n  }\n  render() {\n    return (\n      <div className=\"App\">\n        <Header/>\n        <div className=\"metamask\">\n           <i className=\"fa fa-circle\" style={{\"color\":\"red\",\"margin\":\"4px\"}}></i>\n                   Metamask Locked\n        </div>\n        <Form/>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}